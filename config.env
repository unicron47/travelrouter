# ==============================================================================
# COVER-SD-WAN LAB: GLOBAL CONFIGURATION (V5)
# ==============================================================================
# This file contains all the global variables used by the deployment scripts.
# Students can modify these variables to customize their router builds.
# ==============================================================================

# --- OpenWrt Build Settings ---
OPENWRT_VERSION="24.10.5"
OPENWRT_TARGET="armsr"
OPENWRT_SUBTARGET="armv8" # Used for generic ARMv8 / Docker deployments (Pi 4 & 5)

# The list of packages to bake into the OpenWrt image during Phase 1.
# - luci & luci-ssl: The web interface and HTTPS support
# - wpad-openssl: The full version of the WPA/WPA2/WPA3 daemon (supports both Access Point and Client modes, crucial for a travel router)
# - iw, iwinfo, wireless-tools: User-space tools for Wi-Fi manipulation
# - kmod-cfg80211, kmod-mac80211: Core Linux wireless subsystem kernel modules
# - tailscale: Provides the SD-WAN routing for all connected clients (configured via CLI)
OPENWRT_PACKAGES="luci luci-ssl wpad-openssl iw iwinfo wireless-tools kmod-cfg80211 kmod-mac80211 tailscale tcpdump nano"

# --- Hardware / Driver Settings ---
# Repositories for the different ALFA adapters students might receive.
# AWUS036AC / AWUS036ACH (RTL8812AU)
ALFA_DRIVER_REPO_8812AU="https://github.com/morrownr/8812au-20210629.git"
# AWUS036ACM (MT7612U - requires in-kernel modules, not DKMS)
# The ACM model uses the mt7612u chipset which is natively supported by modern Linux kernels 
# and OpenWrt, but we need to ensure the firmware is present.
OPENWRT_PACKAGES_ACM="kmod-mt76x2u"

# --- Software Versions ---
# You can pin specific versions here if needed, or leave blank to fetch latest.
RUSTDESK_DEB_URL="https://github.com/rustdesk/rustdesk/releases/download/1.3.1/rustdesk-1.3.1-aarch64.deb"

# --- Network Handover Settings ---
# The IP address the Host OS will receive on the virtual 'lifeline' network
# so it can communicate through OpenWrt and reach Tailscale.
HOST_LIFELINE_IP="192.168.10.254/24"
OPENWRT_LAN_IP="192.168.10.1"
